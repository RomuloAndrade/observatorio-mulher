)) |>
e_toolbox_feature(feature = "dataView") |>
e_tooltip(textStyle=list(fontFamily="arial", fontSize=12))# |>
df_cor_ |>
filter(NM_BAIRRO=='Centro') |>
group_by(Sexo) |>
e_chart(x=Cor_raça,name='Moradores') |>
e_bar(Qtd) |>
e_color(c("#b6a2de","#2ec7c9" )) |>
e_toolbox(iconStyle= list(
color= "rgba(35, 210, 32, 1)"
)) |>
e_toolbox_feature(feature = "dataView") |>
e_tooltip(textStyle=list(fontFamily="arial", fontSize=12))# |>
?e_bar
df_cor_ |>
filter(NM_BAIRRO=='Centro') |>
group_by(Sexo) |>
e_chart(x=Cor_raça,name='Moradores') |>
e_bar(Qtd) |>
e_color(c("#b6a2de","#2ec7c9" )) |>
e_toolbox(iconStyle= list(
color= "rgba(35, 210, 32, 1)"
)) |>
e_toolbox_feature(feature = "dataView") |>
e_tooltip(textStyle=list(fontFamily="arial", fontSize=12))|>
e_locale("BR")
df_cor_ |>
filter(NM_BAIRRO=='Centro') |>
group_by(Sexo) |>
e_chart(x=Cor_raça,name='Moradores') |>
e_bar(Qtd) |>
e_color(c("#b6a2de","#2ec7c9" )) |>
e_toolbox(iconStyle= list(
color= "rgba(35, 210, 32, 1)"
)) |>
e_toolbox_feature(feature = "dataView") |>
e_tooltip(textStyle=list(fontFamily="arial", fontSize=12))|>
e_locale("PT (brazil)")
df_cor_ |>
filter(NM_BAIRRO=='Centro') |>
group_by(Sexo) |>
e_chart(x=Cor_raça,name='Moradores') |>
e_bar(Qtd) |>
e_color(c("#b6a2de","#2ec7c9" )) |>
e_toolbox(iconStyle= list(
color= "rgba(35, 210, 32, 1)"
)) |>
e_toolbox_feature(feature = "dataView") |>
e_tooltip(textStyle=list(fontFamily="arial", fontSize=12))|>
e_locale("PT")
df_cor_ |>
filter(NM_BAIRRO=='Centro') |>
group_by(Sexo) |>
e_chart(x=Cor_raça,name='Moradores') |>
e_bar(Qtd) |>
e_color(c("#b6a2de","#2ec7c9" )) |>
e_toolbox(iconStyle= list(
color= "rgba(35, 210, 32, 1)"
)) |>
e_toolbox_feature(feature = "dataView") |>
e_tooltip(textStyle=list(fontFamily="arial", fontSize=12))|>
e_locale("JA ")
df_cor_ |>
filter(NM_BAIRRO=='Centro') |>
group_by(Sexo) |>
e_chart(x=Cor_raça,name='Moradores') |>
e_bar(Qtd) |>
e_color(c("#b6a2de","#2ec7c9" )) |>
e_toolbox(iconStyle= list(
color= "rgba(35, 210, 32, 1)"
)) |>
e_toolbox_feature(feature = "dataView") |>
e_tooltip(textStyle=list(fontFamily="arial", fontSize=12))|>
e_locale("J ")
df_cor_ |>
filter(NM_BAIRRO=='Centro') |>
group_by(Sexo) |>
e_chart(x=Cor_raça,name='Moradores') |>
e_bar(Qtd) |>
e_color(c("#b6a2de","#2ec7c9" )) |>
e_toolbox(iconStyle= list(
color= "rgba(35, 210, 32, 1)"
)) |>
e_toolbox_feature(feature = "dataView") |>
e_tooltip(textStyle=list(fontFamily="arial", fontSize=12))|>
e_locale("JA")
df_cor_ |>
filter(NM_BAIRRO=='Centro') |>
group_by(Sexo) |>
e_chart(x=Cor_raça,name='Moradores') |>
e_bar(Qtd) |>
e_color(c("#b6a2de","#2ec7c9" )) |>
e_toolbox(iconStyle= list(
color= "rgba(35, 210, 32, 1)"
)) |>
e_toolbox_feature(feature = "dataView") |>
e_tooltip(textStyle=list(fontFamily="arial", fontSize=12))|>
e_locale("PT-br")
e_locale("PT")
df_cor_ |>
filter(NM_BAIRRO=='Centro') |>
group_by(Sexo) |>
e_chart(x=Cor_raça,name='Moradores') |>
e_bar(Qtd) |>
e_color(c("#b6a2de","#2ec7c9" )) |>
e_toolbox(iconStyle= list(
color= "rgba(35, 210, 32, 1)"
)) |>
e_toolbox_feature(feature = "dataView") |>
e_tooltip(textStyle=list(fontFamily="arial", fontSize=12))|>
e_format_y_axis(
suffix = "",
prefix = "",
formatter =  e_axis_formatter(locale = "PT", digits = 0)
) |>
e_locale("PT")
df_cor_ |>
filter(NM_BAIRRO=='Centro') |>
group_by(Sexo) |>
e_chart(x=Cor_raça,name='Moradores') |>
e_bar(Qtd) |>
e_color(c("#b6a2de","#2ec7c9" )) |>
e_toolbox(iconStyle= list(
color= "rgba(35, 210, 32, 1)"
)) |>
e_toolbox_feature(feature = "dataView") |>
e_tooltip(trigger="item", formatter =
htmlwidgets::JS(
"function(p) {
v = Intl.NumberFormat('pt-BR', { style: 'decimal'}).format(p.value[1]);
return('<strong>' + p.seriesName + '</strong>' +
'<br>Valor: R$ ' + Intl.NumberFormat('pt-BR', { style: 'decimal'}).format(p.value[1]) +' milhões'+
'<br>Ano: ' +p.value[0]  );
}"),
textStyle=list(fontFamily="arial", fontSize=12)
)|>
e_format_y_axis(
suffix = "",
prefix = "",
formatter =  e_axis_formatter(locale = "PT", digits = 0)
)
df_cor_ |>
filter(NM_BAIRRO=='Centro') |>
group_by(Sexo) |>
e_chart(x=Cor_raça,name='Moradores') |>
e_bar(Qtd) |>
e_color(c("#b6a2de","#2ec7c9" )) |>
e_toolbox(iconStyle= list(
color= "rgba(35, 210, 32, 1)"
)) |>
e_toolbox_feature(feature = "dataView") |>
e_tooltip(trigger="item", formatter =
htmlwidgets::JS(
"function(p) {
v = Intl.NumberFormat('pt-BR', { style: 'decimal'}).format(p.value[1]);
return('<strong>' + p.seriesName + '</strong>' +
'<br>Moradores: R$ ' + Intl.NumberFormat('pt-BR', { style: 'decimal'}).format(p.value[1]) +
'<br>Raça/cor: ' +p.value[0]  );
}"),
textStyle=list(fontFamily="arial", fontSize=12)
)|>
e_format_y_axis(
suffix = "",
prefix = "",
formatter =  e_axis_formatter(locale = "PT", digits = 0)
)
df_cor_ |>
filter(NM_BAIRRO=='Centro') |>
group_by(Sexo) |>
e_chart(x=Cor_raça,name='Moradores') |>
e_bar(Qtd) |>
e_color(c("#b6a2de","#2ec7c9" )) |>
e_toolbox(iconStyle= list(
color= "rgba(35, 210, 32, 1)"
)) |>
e_toolbox_feature(feature = "dataView") |>
e_tooltip(trigger="item", formatter =
htmlwidgets::JS(
"function(p) {
v = Intl.NumberFormat('pt-BR', { style: 'decimal'}).format(p.value[1]);
return('<strong>' + p.seriesName + '</strong>' +
'<br>Moradores:' + Intl.NumberFormat('pt-BR', { style: 'decimal'}).format(p.value[1]) +
'<br>Raça/cor: ' +p.value[0]  );
}"),
textStyle=list(fontFamily="arial", fontSize=12)
)|>
e_format_y_axis(
suffix = "",
prefix = "",
formatter =  e_axis_formatter(locale = "PT", digits = 0)
)
df_cor_ |>
filter(NM_BAIRRO=='Centro') |>
group_by(Sexo) |>
e_chart(x=Cor_raça,name='Moradores') |>
e_bar(Qtd) |>
e_color(c("#b6a2de","#2ec7c9" )) |>
e_toolbox(iconStyle= list(
color= "rgba(35, 210, 32, 1)"
)) |>
e_toolbox_feature(feature = "dataView") |>
e_tooltip(trigger="item", formatter =
htmlwidgets::JS(
"function(p) {
v = Intl.NumberFormat('pt-BR', { style: 'decimal'}).format(p.value[1]);
return('<strong>' + p.seriesName + '</strong>' +
'<br>Moradores:' + Intl.NumberFormat('pt-BR', { style: 'decimal'}).format(p.value[1]) +
'<br>Raça_cor: ' +p.value[0]  );
}"),
textStyle=list(fontFamily="arial", fontSize=12)
)|>
e_format_y_axis(
suffix = "",
prefix = "",
formatter =  e_axis_formatter(locale = "PT", digits = 0)
)
sort(unique(df_faixa$NM_BAIRRO))
choices = sort(unique(df_faixa$NM_BAIRRO))
writexl::write_xlsx(choices)
choices
as.data.frame(choices))
as.data.frame(choices)
writexl::write_xlsx(as.data.frame(choices))
writexl::write_xlsx(as.data.frame(choices),'C:/Romulo/Dados/Censo Bairros/bairros.xlsx')
runApp()
runApp()
?echarts4rOutput
runApp()
runApp('C:/Romulo/Comandos R/Testes/Testes_ar')
runApp()
?valueBox
runApp()
?e_grid
df_cor_ |>
filter(NM_BAIRRO==input$select_1[1]) |>
group_by(Sexo) |>
e_chart(x=Cor_raça,name='Moradores') |>
e_bar(Qtd) |>
e_color(c("#b6a2de","#2ec7c9" )) |>
e_toolbox(iconStyle= list(
color= "rgba(35, 210, 32, 1)"
)) |>
e_toolbox_feature(feature = "dataView") |>
e_tooltip(trigger="item", formatter =
htmlwidgets::JS(
"function(p) {
v = Intl.NumberFormat('pt-BR', { style: 'decimal'}).format(p.value[1]);
return('<strong>' + p.seriesName + '</strong>' +
'<br>Moradores: ' + Intl.NumberFormat('pt-BR', { style: 'decimal'}).format(p.value[1]) +
'<br>Raça_cor: ' +p.value[0]  );
}"),
textStyle=list(fontFamily="arial", fontSize=12)
)|>
e_format_y_axis(
suffix = "",
prefix = "",
formatter =  e_axis_formatter(locale = "PT", digits = 0)
) |>
e_grid(top = "55%")
df_cor_ |>
filter(NM_BAIRRO=='Centro') |>
group_by(Sexo) |>
e_chart(x=Cor_raça,name='Moradores') |>
e_bar(Qtd) |>
e_color(c("#b6a2de","#2ec7c9" )) |>
e_toolbox(iconStyle= list(
color= "rgba(35, 210, 32, 1)"
)) |>
e_toolbox_feature(feature = "dataView") |>
e_tooltip(trigger="item", formatter =
htmlwidgets::JS(
"function(p) {
v = Intl.NumberFormat('pt-BR', { style: 'decimal'}).format(p.value[1]);
return('<strong>' + p.seriesName + '</strong>' +
'<br>Moradores: ' + Intl.NumberFormat('pt-BR', { style: 'decimal'}).format(p.value[1]) +
'<br>Raça_cor: ' +p.value[0]  );
}"),
textStyle=list(fontFamily="arial", fontSize=12)
)|>
e_format_y_axis(
suffix = "",
prefix = "",
formatter =  e_axis_formatter(locale = "PT", digits = 0)
) |>
e_grid(top = "55%")
df_cor_ |>
filter(NM_BAIRRO=='Centro') |>
group_by(Sexo) |>
e_chart(x=Cor_raça,name='Moradores') |>
e_bar(Qtd) |>
e_color(c("#b6a2de","#2ec7c9" )) |>
e_toolbox(iconStyle= list(
color= "rgba(35, 210, 32, 1)"
)) |>
e_toolbox_feature(feature = "dataView") |>
e_tooltip(trigger="item", formatter =
htmlwidgets::JS(
"function(p) {
v = Intl.NumberFormat('pt-BR', { style: 'decimal'}).format(p.value[1]);
return('<strong>' + p.seriesName + '</strong>' +
'<br>Moradores: ' + Intl.NumberFormat('pt-BR', { style: 'decimal'}).format(p.value[1]) +
'<br>Raça_cor: ' +p.value[0]  );
}"),
textStyle=list(fontFamily="arial", fontSize=12)
)|>
e_format_y_axis(
suffix = "",
prefix = "",
formatter =  e_axis_formatter(locale = "PT", digits = 0)
) |>
e_grid(top = "-10%")
df_cor_ |>
filter(NM_BAIRRO=='Centro') |>
group_by(Sexo) |>
e_chart(x=Cor_raça,name='Moradores') |>
e_bar(Qtd) |>
e_color(c("#b6a2de","#2ec7c9" )) |>
e_toolbox(iconStyle= list(
color= "rgba(35, 210, 32, 1)"
)) |>
e_toolbox_feature(feature = "dataView") |>
e_tooltip(trigger="item", formatter =
htmlwidgets::JS(
"function(p) {
v = Intl.NumberFormat('pt-BR', { style: 'decimal'}).format(p.value[1]);
return('<strong>' + p.seriesName + '</strong>' +
'<br>Moradores: ' + Intl.NumberFormat('pt-BR', { style: 'decimal'}).format(p.value[1]) +
'<br>Raça_cor: ' +p.value[0]  );
}"),
textStyle=list(fontFamily="arial", fontSize=12)
)|>
e_format_y_axis(
suffix = "",
prefix = "",
formatter =  e_axis_formatter(locale = "PT", digits = 0)
) |>
e_grid(top = "-5%")
df_cor_ |>
filter(NM_BAIRRO=='Centro') |>
group_by(Sexo) |>
e_chart(x=Cor_raça,name='Moradores') |>
e_bar(Qtd) |>
e_color(c("#b6a2de","#2ec7c9" )) |>
e_toolbox(iconStyle= list(
color= "rgba(35, 210, 32, 1)"
)) |>
e_toolbox_feature(feature = "dataView") |>
e_tooltip(trigger="item", formatter =
htmlwidgets::JS(
"function(p) {
v = Intl.NumberFormat('pt-BR', { style: 'decimal'}).format(p.value[1]);
return('<strong>' + p.seriesName + '</strong>' +
'<br>Moradores: ' + Intl.NumberFormat('pt-BR', { style: 'decimal'}).format(p.value[1]) +
'<br>Raça_cor: ' +p.value[0]  );
}"),
textStyle=list(fontFamily="arial", fontSize=12)
)|>
e_format_y_axis(
suffix = "",
prefix = "",
formatter =  e_axis_formatter(locale = "PT", digits = 0)
) |>
e_y_axis(show=F)
df_cor_ |>
filter(NM_BAIRRO=='Centro') |>
group_by(Sexo) |>
e_chart(x=Cor_raça,name='Moradores') |>
e_bar(Qtd) |>
e_color(c("#b6a2de","#2ec7c9" )) |>
e_toolbox(iconStyle= list(
color= "rgba(35, 210, 32, 1)"
)) |>
e_toolbox_feature(feature = "dataView") |>
e_tooltip(trigger="item", formatter =
htmlwidgets::JS(
"function(p) {
v = Intl.NumberFormat('pt-BR', { style: 'decimal'}).format(p.value[1]);
return('<strong>' + p.seriesName + '</strong>' +
'<br>Moradores: ' + Intl.NumberFormat('pt-BR', { style: 'decimal'}).format(p.value[1]) +
'<br>Raça_cor: ' +p.value[0]  );
}"),
textStyle=list(fontFamily="arial", fontSize=12)
)|>
e_format_y_axis(
suffix = "",
prefix = "",
formatter =  e_axis_formatter(locale = "PT", digits = 0)
) |>
e_y_axis(show=F) |>
e_grid(top = "-5%")
?e_legend
df_cor_ |>
filter(NM_BAIRRO=='Centro') |>
group_by(Sexo) |>
e_chart(x=Cor_raça,name='Moradores') |>
e_bar(Qtd) |>
e_color(c("#b6a2de","#2ec7c9" )) |>
e_toolbox(iconStyle= list(
color= "rgba(35, 210, 32, 1)"
)) |>
e_toolbox_feature(feature = "dataView") |>
e_tooltip(trigger="item", formatter =
htmlwidgets::JS(
"function(p) {
v = Intl.NumberFormat('pt-BR', { style: 'decimal'}).format(p.value[1]);
return('<strong>' + p.seriesName + '</strong>' +
'<br>Moradores: ' + Intl.NumberFormat('pt-BR', { style: 'decimal'}).format(p.value[1]) +
'<br>Raça_cor: ' +p.value[0]  );
}"),
textStyle=list(fontFamily="arial", fontSize=12)
)|>
e_format_y_axis(
suffix = "",
prefix = "",
formatter =  e_axis_formatter(locale = "PT", digits = 0)
) |>
e_legend( orient= "vertical",
right= 0)
df_cor_ |>
filter(NM_BAIRRO=='Centro') |>
group_by(Sexo) |>
e_chart(x=Cor_raça,name='Moradores') |>
e_bar(Qtd) |>
e_color(c("#b6a2de","#2ec7c9" )) |>
e_toolbox(iconStyle= list(
color= "rgba(35, 210, 32, 1)"
)) |>
e_toolbox_feature(feature = "dataView") |>
e_tooltip(trigger="item", formatter =
htmlwidgets::JS(
"function(p) {
v = Intl.NumberFormat('pt-BR', { style: 'decimal'}).format(p.value[1]);
return('<strong>' + p.seriesName + '</strong>' +
'<br>Moradores: ' + Intl.NumberFormat('pt-BR', { style: 'decimal'}).format(p.value[1]) +
'<br>Raça_cor: ' +p.value[0]  );
}"),
textStyle=list(fontFamily="arial", fontSize=12)
)|>
e_format_y_axis(
suffix = "",
prefix = "",
formatter =  e_axis_formatter(locale = "PT", digits = 0)
) |>
e_legend( orient= "vertical",
right= 0) |>
e_y_axis(show=F) |>
e_grid(top = "-5%")
runApp()
runApp()
?e_connect_group
e1 <- cars |>
e_charts(
speed,
height = 200
) |>
e_scatter(dist) |>
e_datazoom(show = FALSE) |>
e_group("grp") # assign group
e2 <- cars |>
e_charts(
dist,
height = 200
) |>
e_scatter(speed) |>
e_datazoom() |>
e_group("grp") |> # assign group
e_connect_group("grp") # connect
if (interactive()) {
e_arrange(e1, e2, title = "Linked datazoom")
}
runApp()
# bairros_demografia<- read_excel("Dados/Agregados_por_bairros_demografia_BR.xlsx")
#
# bairros_demografia <- bairros_demografia |>
#   filter(str_detect(CD_BAIRRO, "^230440")) |>
#   mutate_at(vars(starts_with("V")), as.numeric )
#
# saveRDS(bairros_demografia,'Dados/bairros_demografia.rds')
bairros_demografia <- readRDS('Dados/bairros_demografia.rds')
bairros_demografia
df_faixa <- readRDS('Dados/df_faixa.rds')
df_faixa
df_faixa
df_faixa <- readRDS('Dados/df_faixa.rds')
df_faixa
df_faixa |>
select(1:4) |>
adorn_totals(where = "row", name = "Fortaleza")
df_faixa |>
select(1:4) |>
janitor::adorn_totals(where = "row", name = "Fortaleza")
test <- df_faixa |>
select(1:4) |>
janitor::adorn_totals(where = "row", name = "Fortaleza")
View(test)
test <- df_faixa |>
select(1:4) |> |>
test <- df_faixa |>
select(1:4) |>
group_by(grupo_de_idade ) |>
janitor::adorn_totals(where = "row", name = "Fortaleza")
test
View(test)
View(test)
df_faixa
test <- df_faixa |>
select(1:4) |>
group_by(grupo_de_idade ) |>
summarise(Feminina=sum(Feminina),
Masculina=sum(Masculina))
test
